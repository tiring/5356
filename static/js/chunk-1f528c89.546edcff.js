(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f528c89"],{"1d13":function(t,a,e){},"3fbd":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form_box"},[e("p",{staticClass:"form_title"},[t._v("审批信息")]),t._v(" "),e("div",{staticClass:"form_content",staticStyle:{"box-sizing":"border-box"}},[t._m(0),t._v(" "),e("div",{staticClass:"form_list"},t._l(t.formData,(function(a,i){return e("div",{key:i},[a.helperHistoryList?t._l(a.helperHistoryList,(function(o,s){return e("div",{key:s+"A",staticClass:"list clearfix"},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(i+1)+"级会审")])]),t._v(" "),e("div",{staticClass:"fl",staticStyle:{width:"40%"}},[e("el-input",{staticStyle:{"padding-bottom":"10px"},attrs:{disabled:"",size:"small"},model:{value:o.auditUser.name,callback:function(a){t.$set(o.auditUser,"name",a)},expression:"v.auditUser.name"}}),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"small",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",disabled:""},model:{value:a.auditUser.updated,callback:function(e){t.$set(a.auditUser,"updated",e)},expression:"item.auditUser.updated"}})],1),t._v(" "),e("div",{staticClass:"fl",staticStyle:{width:"calc(60% - 10px)","margin-left":"10px"}},[e("el-input",{attrs:{resize:"none",type:"textarea",size:"small"},model:{value:o.opinion,callback:function(a){t.$set(o,"opinion",a)},expression:"v.opinion"}})],1)])})):t._e(),t._v(" "),e("div",{staticClass:"list clearfix",staticStyle:{"padding-bottom":"10px"}},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(i+1)+"级审批")])]),t._v(" "),e("div",{staticClass:"fl",staticStyle:{width:"40%"}},[e("el-input",{staticStyle:{"padding-bottom":"10px"},attrs:{disabled:"",size:"small"},model:{value:a.auditUser.name,callback:function(e){t.$set(a.auditUser,"name",e)},expression:"item.auditUser.name"}}),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",disabled:"",size:"small"},model:{value:a.updated,callback:function(e){t.$set(a,"updated",e)},expression:"item.updated"}})],1),t._v(" "),e("div",{staticClass:"fl",staticStyle:{width:"calc(60% - 10px)","margin-left":"10px"}},[e("el-input",{attrs:{disabled:0!=a.isAudit||a.auditUserId!=t.userId||t.isDisabled,resize:"none",type:"textarea",size:"small"},on:{input:t.changeInput},model:{value:a.opinion,callback:function(e){t.$set(a,"opinion",e)},expression:"item.opinion"}})],1)])],2)})),0)]),t._v(" "),t.isShowDialog?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog},on:{saveData:t.saveData,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("添加会审")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"会审人员"}},[e("AddJointForm")],1)])]},proxy:!0}],null,!1,372330189)}):t._e()],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form_top"},[e("span",{staticClass:"audit_time"},[t._v("审批人与时间")]),t._v(" "),e("span",{staticClass:"audit_content"},[t._v("征集审批意见")])])}],s=e("d921"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form_box"},[e("p",{staticClass:"form_title"},[t._v("会审人员")]),t._v(" "),e("div",{staticClass:"form_content"},[e("el-form",{ref:"form",attrs:{size:"small",model:t.formData,"label-width":"0"}},t._l(t.formData.data,(function(a,i){return e("div",{key:i,staticClass:"clearfix box"},[e("div",{staticClass:"title fl"},[t._v("添加会审")]),t._v(" "),e("div",{staticClass:"w33 fl"},[e("el-form-item",[e("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return t.changeSelect(a,i)}},model:{value:t.formData.data[i].departmentId,callback:function(a){t.$set(t.formData.data[i],"departmentId",a)},expression:"formData.data[index].departmentId"}},t._l(t.departmentList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),e("div",{staticClass:"w33 fl",staticStyle:{padding:"0 10px"}},[e("el-form-item",[e("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return t.changeSelect(a,i)}},model:{value:t.formData.data[i].professionId,callback:function(a){t.$set(t.formData.data[i],"professionId",a)},expression:"formData.data[index].professionId"}},t._l(t.positionList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),e("div",{class:["fl",1==t.formData.data.length?"w33":"w23"]},[e("el-form-item",{attrs:{prop:"data."+i+".userId",rules:{required:!0,message:"会审人不能为空",trigger:"change"}}},[e("el-select",{attrs:{placeholder:"请选择"},on:{"visible-change":function(a){return t.visibleChange(a,i)}},model:{value:t.formData.data[i].userId,callback:function(a){t.$set(t.formData.data[i],"userId",a)},expression:"formData.data[index].userId"}},t._l(t.userList[i],(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),t.formData.data.length>1?e("div",{class:["fl","text_center",1==t.formData.data.length?"w0":"w10"]},[e("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.deleteLine(i)}}})],1):t._e()])})),0),t._v(" "),e("div",{staticClass:"text_center"},[e("el-button",{staticClass:"w50",attrs:{size:"small"},on:{click:t.addLine}},[t._v("添加一行")])],1)],1)])},l=[],r=e("8593"),d=e("4431"),c={data:function(){return{formData:{data:[{departmentId:"",professionId:"",userId:""}]},departmentList:[],positionList:[],userList:[]}},watch:{formData:{handler:function(t){var a=[];this.formData.data.map((function(t){a.push(t.userId)})),this.$emit("getFormData",a)},deep:!0}},created:function(){this.fatchData()},methods:{getRulesData:function(){var t=!1;return this.$refs.form.validate((function(a){t=a})),{msg:t?"表单验证通过":"请检查输入的表单是否有误",data:t}},resetRules:function(){this.$refs.form.resetFields()},deleteLine:function(t){this.$delete(this.formData.data,t),this.$delete(this.userList,t)},addLine:function(){this.formData.data.push({departmentId:"",professionId:"",userId:""})},changeSelect:function(t,a){this.$set(this.userList,a,[]),this.formData.data[a].userId=""},visibleChange:function(t,a){var e=this;console.log(t),t&&(console.log(a),""==this.formData.data[a].departmentId||""==this.formData.data[a].professionId?this.$message({type:"error",message:"当前行的部门或者职位不能为空"}):Object(r["w"])({departmentId:this.formData.data[a].departmentId,professionId:this.formData.data[a].professionId}).then((function(t){e.$set(e.userList,a,t.data),console.log(e.userList)})))},fatchData:function(){var t=this;Object(r["z"])().then((function(a){t.departmentList=a.data})),Object(d["Jb"])({optionType:10,isUse:1}).then((function(a){t.positionList=a.data.optionInfoItemList}))},getUserList:function(t){Object(r["w"])(t).then((function(t){}))}}},u=c,h=(e("d168"),e("2877")),f=Object(h["a"])(u,n,l,!1,null,"0679f5c0",null),g=f.exports,m=e("5308"),p={components:{PropBox:s["a"],AddJointForm:g},props:{sentFormData:{type:Array},isDisabled:{type:Boolean,default:!0}},data:function(){return{userId:"",formData:[],isShowDialog:!1}},created:function(){this.userId=JSON.parse(Object(m["a"])("YUANZHIHUI")).id},watch:{sentFormData:{handler:function(t){var a=this;this.formData=JSON.parse(JSON.stringify(t)),this.formData.map((function(t){0==t.isAudit&&(a.isDisabled?(t.opinion="该用户还未审批",t.updated=""):a.userId!=t.auditUserId?(t.opinion="还未到该用户审批",t.updated=""):a.userId==t.auditUserId&&(t.opinion="",t.updated=""))}))},deep:!0}},methods:{changeInput:function(t){this.$emit("getFormData",t)},saveData:function(){},addJoint:function(){this.isShowDialog=!0},getDiagdialogShow:function(){this.isShowDialog=!1}}},D=p,w=(e("afc9"),Object(h["a"])(D,i,o,!1,null,"17f195ff",null));a["a"]=w.exports},4134:function(t,a,e){"use strict";var i=e("a2ed"),o=e.n(i);o.a},"456d":function(t,a,e){var i=e("4bf8"),o=e("0d58");e("5eda")("keys",(function(){return function(t){return o(i(t))}}))},"4ad0":function(t,a,e){},"5eda":function(t,a,e){var i=e("5ca1"),o=e("8378"),s=e("79e5");t.exports=function(t,a){var e=(o.Object||{})[t]||Object[t],n={};n[t]=a(e),i(i.S+i.F*s((function(){e(1)})),"Object",n)}},a2ed:function(t,a,e){},afc9:function(t,a,e){"use strict";var i=e("4ad0"),o=e.n(i);o.a},cf8a:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"audit_record"},[e("ConditionShow",{attrs:{sentconditiondatas:t.getAuditRecordTimeButtons},on:{changecondition:t.getTimeData}}),t._v(" "),t.isShowAuditRecordSearch?e("SearchCondition",{attrs:{sentAttconditiondatas:t.getAuditRecordSearchField},on:{changeAttcondition:t.getSearchDatas}}):t._e(),t._v(" "),e("div",{staticClass:"divBox"},[e("div",{staticStyle:{padding:"10px 0"}},[e("TableTopButton",{attrs:{sentBatchOperationDatas:t.batchOperationDatas},on:{changeChildDailogShow:t.getChildDailogShow}})],1),t._v(" "),t.isShowTableField&&t.isShowTableList?e("TableList",{attrs:{sentTableFields:t.getTableField,sentTableData:t.filterTableList},on:{changePagination:t.getChildPagination,changeChildDailogShow:t.getChildDailogShow,getTableID:t.getTableChildID}}):t._e()],1),t._v(" "),e("article",[t.isShowDialog["0"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["0"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["1"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["1"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["2"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["2"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["3"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["3"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["4"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["4"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["5"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["5"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["6"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["6"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["7"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["7"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["8"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["8"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["9"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["9"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["9"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["9"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["11"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["11"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["12"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["12"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["14"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["14"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["14"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["14"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["15"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["15"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e(),t._v(" "),t.isShowDialog["16"]?e("PropBox",{attrs:{sentdialogVisible:t.isShowDialog["16"]},on:{saveData:t.imExport,changeDiagdialogShow:t.getDiagdialogShow},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("审批记录")]},proxy:!0},{key:"article",fn:function(){return[e("ul",[e("li",{attrs:{title:"审批记录"}},[e("AuditMessageForm",{attrs:{sentFormData:t.tableRowData.flowAndItemHistoryList}})],1)])]},proxy:!0},{key:"confirm",fn:function(){return[t._v("导出审批单")]},proxy:!0}],null,!1,342320712)}):t._e()],1)],1)},o=[],s=(e("7f7f"),e("db72")),n=e("bb89"),l=e("e3b6"),r=e("86f5"),d=e("80fb"),c=e("d921"),u=e("3fbd"),h=e("8593"),f={components:{SearchCondition:n["a"],ConditionShow:l["a"],TableList:r["a"],TableTopButton:d["a"],PropBox:c["a"],AuditMessageForm:u["a"]},data:function(){return{auditRecordAuditStateButton:{status:["status","审批状态"],0:["0","驳回"],1:["1","通过"],2:["2","审批中"],3:["3","已取消"]},auditRecordTimeButton:{0:["0","今天"],1:["1","昨天"],2:["2","本周"],3:["3","上周"],4:["4","本月"],5:["5","上月"],createdEnd:["createdEnd","结束时间"],createdSta:["createdSta","起始时间"],leadRegistrationTime:["leadRegistrationTime","审批时间"]},isShowAuditRecordSearch:!1,auditRecordSearch:{},isShowTableField:!1,isShowTableList:!1,tableField:{},tableList:{},timeData:{},searchData:{},paginationData:{},auditDataList:[{name:"未结束",key:"0"},{name:"已结束",key:"1"}],batchOperationDatas:{left:[],right:[{name:"批量导出",eventName:"onBatchExport"}]},dialogShow:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1},isShowDialog:{},getChildDailogShowVal:"",tableRowId:"",tableRowData:{},tableDialogType:"",auditCode:{0:"驳回",1:"通过",2:"审批中",3:"已取消"},completeCode:{0:"未完成",1:"已完成"}}},computed:{getAuditRecordSearchField:function(){var t,a=this.auditRecordSearch;return t=[{type:"text",labelName:"查询属性",key:"queryAttr"},{type:"text",labelName:a.itemName[1],key:a.itemName[0]},{type:"select",labelName:a.flowType[1],key:a.flowType[0],data:"server",items:{optionType:300}},{type:"select",labelName:a.isComplete[1],key:a.isComplete[0],data:"constValue",items:[{name:"完成",key:"1"},{name:"未完成",key:"0"}]}],t},getAuditRecordTimeButtons:function(){var t,a,e=this.auditRecordAuditStateButton,i=this.auditRecordTimeButton,o=[];return t={title:e.status[1],fieldName:e.status[0],dataType:"button",showed:!0,iconDef:!0,iconShow:!0,items:[{name:e[2][1],fieldName:e[2][0],active:!0,num:0,id:"1-1"},{name:e[0][1],fieldName:e[0][0],active:!1,num:0,id:"1-2"},{name:e[1][1],fieldName:e[1][0],active:!1,num:0,id:"1-3"},{name:e[3][1],fieldName:e[3][0],active:!1,num:0,id:"1-4"}]},o.push(t),a={title:i.leadRegistrationTime[1],fieldName:i.leadRegistrationTime[0],dataType:"regdate",createdSta:i.createdSta[0],createdEnd:i.createdEnd[0],showed:!0,iconDef:!1,iconShow:!1,dataPicker:!0,items:[{name:i[0][1],fieldName:i[0][0],active:!0,num:0,id:"1-1"},{name:i[1][1],fieldName:i[1][0],active:!1,num:0,id:"1-2"},{name:i[2][1],fieldName:i[2][0],active:!1,num:0,id:"1-3"},{name:i[3][1],fieldName:i[3][0],active:!1,num:0,id:"1-4"},{name:i[4][1],fieldName:i[4][0],active:!1,num:0,id:"1-5"},{name:i[5][1],fieldName:i[5][0],active:!1,num:0,id:"1-6"}]},o.push(a),o},getTableField:function(){var t={data:[],button:[]},a=this.tableField;return this.isShowTableField&&(t.data[0]=a.itemName,t.data[0].push("100","center",{eventName:"onName"}),t.data[1]=a.flow,t.data[1].push("100","center"),t.data[2]=a.status,t.data[2].push("100","center"),t.data[3]=a.isComplete,t.data[3].push("100","center"),t.button.push({name:"导出审批单",eventName:"onExport"})),t},getSearchData:function(){var t=Object(s["a"])({page:0,size:10},this.timeData,{},this.searchData);return t},allSearchData:function(){var t=Object(s["a"])({},this.timeData,{},this.searchData,{},this.paginationData);return t},filterTableList:function(){var t=this,a=this.tableList;return a.content.map((function(a){a.flow=a.flow?a.flow.name:"",a.status=t.auditCode[a.status],a.isComplete=t.completeCode[a.isComplete]})),a}},watch:{tableDialogType:{handler:function(){switch(console.log(this.tableDialogType),this.tableDialogType){case"0":this.isShowDialog["0"]=!0;break;case"1":this.isShowDialog["1"]=!0;break;case"2":this.isShowDialog["2"]=!0;break;case"3":this.isShowDialog["3"]=!0;break;case"4":this.isShowDialog["4"]=!0;break;case"5":this.isShowDialog["5"]=!0;break;case"6":this.isShowDialog["6"]=!0;break;case"7":this.isShowDialog["7"]=!0;break;case"8":this.isShowDialog["8"]=!0;break;case"9":this.isShowDialog["9"]=!0;break;case"10":this.isShowDialog["10"]=!0;break;case"11":this.isShowDialog["11"]=!0;break;case"12":this.isShowDialog["12"]=!0;break;case"13":this.isShowDialog["13"]=!0;break;case"14":this.isShowDialog["14"]=!0;break;case"15":this.isShowDialog["15"]=!0;break;case"16":this.isShowDialog["16"]=!0;break;default:this.isShowDialog["0"]=!1,this.isShowDialog["1"]=!1,this.isShowDialog["2"]=!1,this.isShowDialog["3"]=!1,this.isShowDialog["4"]=!1,this.isShowDialog["5"]=!1,this.isShowDialog["6"]=!1,this.isShowDialog["7"]=!1,this.isShowDialog["8"]=!1,this.isShowDialog["9"]=!1,this.isShowDialog["10"]=!1,this.isShowDialog["11"]=!1,this.isShowDialog["12"]=!1,this.isShowDialog["13"]=!1,this.isShowDialog["14"]=!1,this.isShowDialog["15"]=!1,this.isShowDialog["16"]=!1,this.tableRowId="",this.tableRowData=[],this.getChildDailogShowVal=""}},immediate:!0}},created:function(){this.fatchData(),this.isShowDialog=JSON.parse(JSON.stringify(this.dialogShow))},methods:{imExport:function(){console.log("导出审批单")},getDiagdialogShow:function(){this.getChildDailogShowVal="",this.tableDialogType=""},getTableChildID:function(t,a){this.tableRowId=t,this.tableDialogType=a.flow},getTableRowData:function(){var t=this;Object(h["g"])(this.tableRowId).then((function(a){t.tableRowData=a.data}))},getChildDailogShow:function(t){if(this.getChildDailogShowVal=t,"onName"==this.getChildDailogShowVal||"onExport"==this.getChildDailogShowVal){switch(this.tableDialogType){case"征集线索":this.tableDialogType="0";break;case"出库申请":case"出库申请-借出":case"出库申请-提用":case"出库申请-观摩":case"出库申请-全部":this.tableDialogType="1";break;case"出库确认":this.tableDialogType="2";break;case"归库确认":this.tableDialogType="3";break;case"消毒任务":this.tableDialogType="4";break;case"事故登记":this.tableDialogType="5";break;case"修复登记":this.tableDialogType="6";break;case"盘点任务":this.tableDialogType="7";break;case"征集登记":this.tableDialogType="8";break;case"通知公告":this.tableDialogType="9";break;case"入馆申请":this.tableDialogType="10";break;case"入馆登记":this.tableDialogType="11";break;case"鉴定申请":this.tableDialogType="12";break;case"登记拨库":this.tableDialogType="13";break;case"藏品编目":this.tableDialogType="14";break;case"正式账目":this.tableDialogType="15";break;case"注销账目":this.tableDialogType="16";break}this.getTableRowData()}},getChildPagination:function(t){this.paginationData=t,this.init(this.allSearchData)},getTimeData:function(t){this.timeData=t,this.init(this.getSearchData)},getSearchDatas:function(t){this.searchData=t,this.init(this.getSearchData)},fatchData:function(){var t=this;Object(h["h"])().then((function(a){t.auditRecordSearch=a.data,t.isShowAuditRecordSearch=!0})),Object(h["i"])().then((function(a){t.isShowTableField=!0,t.tableField=a.data}))},init:function(t){var a=this;Object(h["j"])(t).then((function(t){a.isShowTableList=!0,a.tableList=t.data}))}}},g=f,m=(e("4134"),e("2877")),p=Object(m["a"])(g,i,o,!1,null,"227ecc96",null);a["default"]=p.exports},d168:function(t,a,e){"use strict";var i=e("1d13"),o=e.n(i);o.a}}]);